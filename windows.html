<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<title>Rubyをインストールする（Windows）</title>
<link rel="stylesheet" href="css/mystyle.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_rubyをインストールするwindows">Rubyをインストールする（Windows）</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_rubyが使えるかどうか調べる">Rubyが使えるかどうか調べる</h3>
<div class="paragraph">
<p>Ruby が使える状態か判断するために、一度Rubyを起動してみましょう。</p>
</div>
<div class="paragraph">
<p>コマンドプロンプトを開いて、 <a href="#start_ruby_win_01">リスト 1</a> のように、Rubyコマンドにバージョン番号表示のオプションを指定して起動します。
言語の名前は「Ruby」ですが、プログラムの名前は小文字で <code>ruby</code> と入力します。その後ろに空白を入れて、 <code>--</code> (ハイフンを2つ）に続けて <code>version</code> と入力します。</p>
</div>
<div id="start_ruby_win_01" class="exampleblock">
<div class="title">リスト 1. 【端末】Rubyを起動する</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">C:\Users\kuboaki&gt;ruby --version <i class="conum" data-value="1"></i><b>(1)</b>
ruby 2.6.4p104 (2019-08-28 revision 67798) [x64-mingw32]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Rubyを <code>--version</code> オプションをつけて起動して、バージョン番号を表示した。</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>この表示をみると、バージョンが <code>2.6.4.p104</code> のRubyがインストールされているのがわかります。</p>
</div>
<div class="paragraph">
<p>もし、 <a href="#start_ruby_win_02">リスト 2</a> のような表示になった場合には、Rubyがインストールできていないか、起動できない状態になっています。</p>
</div>
<div id="start_ruby_win_02" class="exampleblock">
<div class="title">リスト 2. 【端末】Rubyが起動できなかったとき</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">C:\Users\kuboaki&gt;ruby --version
'ruby' は、内部コマンドまたは外部コマンド、
操作可能なプログラムまたはバッチ ファイルとして認識されていません。</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Rubyの動作が確認できた人は「 <a href="#make_simple_script_and_check">[make_simple_script_and_check]</a> 」へ進みましょう。
インストールできていない場合には「 <a href="#install_ruby_on_win">自分の PC に Ruby を追加する（Windows）</a> 」へ進みましょう。</p>
</div>
<div class="paragraph">
<p>また、インストールされていても、バージョンが古すぎるとこの本の演習を期待通り実行できないことがあります。
確認したバージョンが 2.4 あるいはそれ以前の場合は、この機会に新しいバージョンをインストールしましょう。</p>
</div>
</div>
<div class="sect2">
<h3 id="install_ruby_on_win">自分の PC に Ruby を追加する（Windows）</h3>
<div class="paragraph">
<p>Windows には、Ruby は予めインストールされていません。別途、自分でインストールします。
みなさんがこの本の演習に使おうと思っている PC が、 Ruby を使えるようになっているかどうか確かめましょう。
もし、Rubyを使えることが確認できれば、インストール手順を省いてそのまま使ってもよいでしょう。</p>
</div>
<div class="paragraph">
<p>もし、Rubyが使える状況になっていたら、この節は読み飛ばしても構いません。
まだ Ruby をインストールしていない方は、ここで Ruby をインストールしましょう。</p>
</div>
<div class="sect3">
<h4 id="_ruby_を入手する">Ruby を入手する</h4>
<div class="paragraph">
<p>RubyInstallerのダウンロードページから。インストーラーをダウンロードします（ <a href="#ruby_installer_download_page">図 1</a>  ）。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">RubyInstallerのダウンロードページ</dt>
<dd>
<p><code><a href="https://rubyinstaller.org/downloads/" class="bare">https://rubyinstaller.org/downloads/</a></code></p>
</dd>
</dl>
</div>
<div id="ruby_installer_download_page" class="imageblock">
<div class="content">
<img src="images/210207-0002_marked.jpg" alt="210207 0002 marked" width="50%">
</div>
<div class="title">図 1. RubyInstallerをダウンロードする</div>
</div>
</div>
<div class="sect3">
<h4 id="_ruby_をインストールする">Ruby をインストールする</h4>
<div class="paragraph">
<p>ダウンロードしたインストーラーをエクスプローラーで探します（ <a href="#ruby_installer_exe_file">図 2</a> ）。</p>
</div>
<div id="ruby_installer_exe_file" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-161321_marked.png" alt="ruby_installer_exe_file" width="50%">
</div>
<div class="title">図 2. ダウンロードしたRubyInstallerの実行ファイル</div>
</div>
<div class="paragraph">
<p>見つけたら、ダブルクリックして起動します。</p>
</div>
<div class="paragraph">
<p>すると、ライセンス合意のダイアログが開きます（ <a href="#license_agreement_dialog">図 3</a>  ）。</p>
</div>
<div id="license_agreement_dialog" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-170454_mared.png" alt="license_agreement_dialog" width="50%">
</div>
<div class="title">図 3. ライセンス合意のダイアログ</div>
</div>
<div class="paragraph">
<p><code>I accept the License.</code> をチェックして「Next」ボタンをクリックします。</p>
</div>
<div class="paragraph">
<p>すると、インストール先を指定するダイアログが開きます（ <a href="#install_destination_dialog">図 4</a> ）。
インストールするディレクトリの初期値が入っているはずです。そのままでよいでしょう。
そして、3つあるチェックボックスをチェックします。</p>
</div>
<div id="install_destination_dialog" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-170553_marked.png" alt="install_destination_dialog" width="50%">
</div>
<div class="title">図 4. インストール先指定のダイアログ</div>
</div>
<div class="paragraph">
<p>「Install」ボタンをクリックすると、追加コンポーネントを選択するダイアログが開きます（ <a href="#additional_component_dialog">図 5</a> ）。
<code>MSYS2 development toolchain</code> をチェックします。</p>
</div>
<div id="additional_component_dialog" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-170610_marked.png" alt="additional_component_dialog" width="50%">
</div>
<div class="title">図 5. 追加コンポーネント選択のダイアログ</div>
</div>
<div class="paragraph">
<p>「Next」ボタンをクリックします。</p>
</div>
<div class="openblock IMPORTENT">
<div class="content">
<div class="paragraph">
<p><code>MAYS2</code> は、今後使うライブラリのインストールで必要になりますので、必ずインストールしておきましょう。</p>
</div>
</div>
</div>
<div class="paragraph">
<p>インストールが終わるまで、しばらく待ちます。</p>
</div>
<div id="installation_progress_dialog" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-170639.png" alt="installation_progress_dialog" width="50%">
</div>
<div class="title">図 6. インストール中のダイアログ</div>
</div>
<div class="paragraph">
<p>途中で、MSYS2のインストールウィザードが起動します（ <a href="#install_msys2_dialog">図 7</a> ）。</p>
</div>
<div id="install_msys2_dialog" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-171020.png" alt="installation_complete_dialog" width="50%">
</div>
<div class="title">図 7. MSYS2のインストールウィザードが起動した</div>
</div>
<div class="paragraph">
<p>コマンドプロンプトが開いて、MSYS2のインストーラが起動します（ <a href="#development_toolchain_installation_start">図 8</a> ）。</p>
</div>
<div id="development_toolchain_installation_start" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-171214.png" alt="development_toolchain_installation_start" width="50%">
</div>
<div class="title">図 8. 開発用ツールチェーンのインストール開始画面</div>
</div>
<div class="paragraph">
<p>「 <code>3</code> 」を入力し、エンターキーを押します。</p>
</div>
<div class="paragraph">
<p>パッケージの取得とインストールが始まります（ <a href="#development_toolchain_installation_finish">図 9</a> ）。
再び番号の選択街になれば、インストールは完了です。</p>
</div>
<div id="development_toolchain_installation_finish" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-171347.png" alt="development_toolchain_installation_finish" width="50%">
</div>
<div class="title">図 9. 開発用ツールチェーンのインストール完了画面</div>
</div>
<div class="paragraph">
<p>インストールしたRubyの入っているディレクトリ（フォルダ）を確認しておきましょう。</p>
</div>
<div id="ruby_location_check" class="imageblock">
<div class="content">
<img src="images/GSW-20190910-171458.png" alt="ruby_location_check" width="50%">
</div>
<div class="title">図 10. Rubvのインストール先ディレクトリのチェック</div>
</div>
</div>
<div class="sect3">
<h4 id="_インストールできたか確認する">インストールできたか確認する</h4>
<div class="paragraph">
<p>Ruby を起動してみましょう。</p>
</div>
<div class="paragraph">
<p>コマンドプロンプトを開きます。 <a href="#start_ruby_win_03">リスト 3</a> のように、Rubyコマンドにバージョン番号表示のオプションを指定して起動します。
プログラム名の場合は小文字で <code>ruby</code> と入力します。その後ろに空白を入れて、 <code>--</code> (ハイフン2つ）に続けて <code>version</code> と入力します。</p>
</div>
<div id="start_ruby_win_03" class="exampleblock">
<div class="title">リスト 3. 【端末】Rubyを起動する</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">C:\Users\kuboaki&gt;ruby --version
ruby 2.6.4p104 (2019-08-28 revision 67798) [x64-mingw32]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>この表示では、Rubyのバージョンが <code>2.6.4.p104</code> のRubyが動作していることが確認できています。</p>
</div>
<div class="paragraph">
<p>もし <a href="#start_ruby_win_04">リスト 4</a> のような表示になった場合には、Rubyのインストールで問題が起きているか、起動できない状態になっています。</p>
</div>
<div id="start_ruby_win_04" class="exampleblock">
<div class="title">リスト 4. 【端末】Rubyが起動できなかったとき</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">C:\Users\kuboaki&gt;ruby --version
'ruby' は、内部コマンドまたは外部コマンド、
操作可能なプログラムまたはバッチ ファイルとして認識されていません。</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>この場合は、インストールのどこかに問題があった可能性があります。
インストールした手順を見直してみましょう。</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2021-04-20 09:18:05 +0900
</div>
</div>
</body>
</html>